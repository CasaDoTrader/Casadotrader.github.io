<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <p>Atualizem a página apartir das 17:00 hrs</p>
    <p>07/06/2025</p>
    <title>Casa do Trader</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; margin: 10px; }
        .aviso { background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; text-align: center; }
        .botoes { display: flex; justify-content: center; margin-bottom: 10px; }
        .botoes button { padding: 8px 15px; margin: 0 5px; cursor: pointer; }
        .tc { overflow-x: auto; margin-bottom: 20px; width: 90%; }
        .tc > table > thead > tr > th { position: sticky; top: 0; z-index: 1; left: auto; }
        table { border-collapse: collapse; width: auto; }
        th, td { border: 1px solid black; padding: 8px; min-width: 80px; text-align: left; }
        #saldoTotalContainer { margin-top: 20px; font-weight: bold; }
        .mercado-pago-promo {
            background-color: #ffe000;
            border: 1px solid #ccad00;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            border-radius: 8px;
        }
        .mercado-pago-promo h3 {
            color: #333;
            margin-top: 0;
        }
        .mercado-pago-promo button {
            background-color: #009ee3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .mercado-pago-promo button:hover {
            background-color: #007bbd;
        }
    </style>
</head>
<body>
    <div class="aviso">
        <h2>Casa do Trader</h2>
        <p><strong>Aviso:</strong> Cliente com CRÉDITO ZERADO não participam do lucro.</p>
        <p>Risco de PERDA de até R$15 ao DIA.</p>
        <p>ENVIE o COMPROVANTE do seu PAGAMENTO para a Letícia, sua gerente pessoal para CONFIRMAR seu CRÉDITO.</p>
        <p><strong>Saque automático na segunda semana após o depósito ou na primeira semama após o crédito zera!</strong> 
    </div>

    <div class="botoes">
        <button id="copiarPix">Cópia chave pix celula</button>
        <button id="abrirChat">Letícia (Gerente)</button>
        <button id="abrirPDF">Curso</button>
        <button id="abrirBroker">Treinar</button>
    </div>

    <div class="mercado-pago-promo">
        <h3>Seja nosso parceiro!</h3>
        <p>Para ter acesso a todas as funcionalidades do mercado pago, a conta que mais rende do Brasil! e garantir seu crédito até parcelado! crie sua conta no <strong>Mercado Pago</strong>, nosso banco parceiro!</p>
        <button id="criarContaMercadoPago">Criar Conta no Mercado Pago</button>
    </div>

    <div class="botoes">
        <button onclick="window.open('https://mpago.la/2dtqhKb', '_blank')">CRÉDITO R$5,00</button>
        <button onclick="window.open('https://mpago.la/2hLuVLC', '_blank')">CRÉDITO R$10,00</button>
        <button onclick="window.open('https://mpago.la/1gRhpZp', '_blank')">CRÉDITO R$20,00</button>
        <button onclick="window.open('https://mpago.la/1sb3ijA', '_blank')">CRÉDITO R$50,00</button>
    </div>

    <h2>Registro do Cliente</h2>
    <div class="tc">
        <table id="registroClientes">
            <thead><tr><th>Nome</th><th>Crédito</th><th>Lucro</th><th>Saldo</th><th>Perca</th><th>Extrato Saque</th><th>Extrato Depósito</th></tr></thead>
            <tbody>
                <tr><td>Luzia</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>12.34</td><td>44.63</td><td>40</td></tr>
                <tr><td>Eunice</td><td>X.XX</td><td>6.93</td><td>X.XX</td><td>12.00</td><td>36.43</td><td>12</td></tr>
                <tr><td>Isayah</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>11.94</td><td>39.42</td><td>12</td></tr>
                <tr><td>Domingo</td><td>X.XX</td><td>6.93</td><td>X.XX</td><td>10.00</td><td>29.13</td><td>10.00</td></tr>
                <tr><td>Toinha</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>12.24</td><td>36.43</td><td>20.00</td></tr>
                <tr><td>Kelviane</td><td>X.XX</td><td>6.93</td><td>X.XX</td><td>10.00</td><td>16.18</td><td>10.00</td></tr>
                <tr><td>Zayla</td><td>X.XX</td><td>6.93</td><td>X.XX</td><td>10.00</td><td>16.18</td><td>10.00</td></tr>
               <tr><td>Clarice</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>10.00</td><td>24.92</td><td>20.00</td></tr>
               <tr><td>Larissa</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>14.00</td><td>39.43</td><td>15.00</td></tr>
                <tr><td>Grazi</td><td>X.XX</td><td>13.38</td><td>X.XX</td><td>10.00</td><td>13.62</td><td>15.00</td></tr>
                <tr><td>Felipe</td><td>X.XX</td><td>6.93</td><td>X.XX</td><td>10.00</td><td>31.85</td><td>10.00</td></tr>
            </tbody>
        </table>
    </div>

<div id="saldoTotalContainer"><strong>Saldo Total:</strong> <span>0.00</span></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabelaClientesBody = document.getElementById('registroClientes').getElementsByTagName('tbody')[0];
            const linhasClientes = Array.from(tabelaClientesBody.getElementsByTagName('tr'));
            const botaoCopiarPix = document.getElementById('copiarPix');
            const botaoAbrirChat = document.getElementById('abrirChat');
            const botaoAbrirPDF = document.getElementById('abrirPDF');
            const botaoAbrirBroker = document.getElementById('abrirBroker');
            const botaoCriarContaMercadoPago = document.getElementById('criarContaMercadoPago');

            const chavePix = "+5577998175899";
            const chatScriptURL = 'https://cdn.jotfor.ms/agent/embedjs/0196d3c3aab67614915661d0e7e0e56b9f74/embed.js?skipWelcome=1&maximizable=1';
            const saldoTotalManual = 166.41;
            const exibirSaldoTotalElement = document.querySelector('#saldoTotalContainer span');
            
            const pdfURL ="https://vjxbvuyu.manus.space";
            const brokerURL = "https://broker-qx.pro/sign-up/?lid=1153131";
            const mercadoPagoSignUpURL = "https://mpago.li/2XUNCvq";

            // Função para converter string de moeda para número
            const parseCurrency = (value) => parseFloat(value.replace('R$ ', '').replace(',', '.')) || parseFloat(value) || 0;

            // Função para formatar número para moeda BRL
            const formatBRL = (value) => {
                return new Intl.NumberFormat('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                }).format(value);
            };

            // Função inicial para calcular e exibir crédito, lucro e saldo
            const atualizarCredito = () => {
                linhasClientes.forEach(linha => {
                    const deposito = parseCurrency(linha.cells[6].textContent);
                    const perca = parseCurrency(linha.cells[4].textContent);
                    const credito = deposito - perca;
                    const lucro = parseCurrency(linha.cells[2].textContent);
                    const saldo = credito + lucro;

                    linha.cells[1].textContent = formatBRL(credito);
                    linha.cells[2].textContent = formatBRL(lucro);
                    linha.cells[3].textContent = formatBRL(saldo);
                    linha.cells[4].textContent = formatBRL(perca);
                    linha.cells[5].textContent = formatBRL(parseCurrency(linha.cells[5].textContent));
                    linha.cells[6].textContent = formatBRL(deposito);
                });
            };

            atualizarCredito();

            // Define o valor do saldo total no elemento correto
            if (exibirSaldoTotalElement) {
                exibirSaldoTotalElement.textContent = formatBRL(saldoTotalManual);
            } else {
                console.error('Elemento para exibir o saldo total não encontrado.');
            }

            // Listener para o botão de copiar Pix
            botaoCopiarPix.addEventListener('click', () => {
                navigator.clipboard.writeText(chavePix)
                    .then(() => {
                        alert('Chave Pix copiada para a área de transferência!');
                    })
                    .catch(err => {
                        console.error('Erro ao copiar a chave Pix: ', err);
                        alert('Não foi possível copiar a chave Pix.');
                    });
            });

            // Listener para o botão de abrir chat
            botaoAbrirChat.addEventListener('click', () => {
                const script = document.createElement('script');
                script.src = chatScriptURL;
                document.body.appendChild(script);
            });

            // Listener para o botão 'Abrir PDF'
            botaoAbrirPDF.addEventListener('click', () => {
                window.open(pdfURL, '_blank');
            });

            // Listener para o NOVO botão 'Abrir Broker'
            botaoAbrirBroker.addEventListener('click', () => {
                window.open(brokerURL, '_blank');
            });

            // Listener para o NOVO botão 'Criar Conta no Mercado Pago'
            botaoCriarContaMercadoPago.addEventListener('click', () => {
                window.open(mercadoPagoSignUpURL, '_blank');
            });
        });
    </script>
</body>
    </html>
